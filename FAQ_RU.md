# Часто задаваемые вопросы (FAQ)

## Общие вопросы

### Что такое Telegram AI Agent v2?
Telegram AI Agent v2 - это Telegram-бот с интеграцией искусственного интеллекта OpenAI, который может отвечать на сообщения пользователей с помощью моделей GPT, предлагать улучшенные промпты и вести журнал взаимодействий.

### Какие функции доступны в боте?
Основные функции:
- Ответы на сообщения с помощью ИИ OpenAI
- Команда `/suggest_prompt` для предложения улучшенных промптов
- Ведение журнала всех взаимодействий в базе данных PostgreSQL
- Настраиваемые параметры через переменные окружения

## Установка и настройка

### Как установить бота?
1. Убедитесь, что у вас установлен Python 3.9 или выше
2. Клонируйте репозиторий или скачайте архив с проектом
3. Создайте виртуальное окружение
4. Установите зависимости из requirements.txt
5. Настройте переменные окружения в файле .env
6. Создайте базу данных PostgreSQL и примените схему из schema.sql
7. Запустите бот с помощью команды `python -m app.main`

### Где взять токен для Telegram-бота?
1. Откройте Telegram
2. Найдите бота @BotFather
3. Отправьте команду `/newbot`
4. Следуйте инструкциям для создания нового бота
5. После создания бота вы получите токен

### Как получить ключ API OpenAI?
1. Перейдите на сайт https://platform.openai.com/
2. Зарегистрируйтесь или войдите в существующий аккаунт
3. Перейдите в раздел "API Keys"
4. Нажмите "Create new secret key"
5. Скопируйте сгенерированный ключ

### Как настроить базу данных PostgreSQL?
1. Установите PostgreSQL на ваш сервер/компьютер
2. Создайте новую базу данных (например, с именем `telegram_bot`)
3. Примените схему из файла schema.sql:
   ```bash
   psql -d telegram_bot -f schema.sql
   ```
4. Настройте строку подключения в файле .env

## Использование

### Какие команды поддерживает бот?
- `/start` - начать работу с ботом
- `/suggest_prompt` - получить предложение по улучшению промпта на основе истории взаимодействий

### Как работает функция предложения промптов?
Функция `/suggest_prompt` анализирует последние 10 сообщений пользователей из журнала взаимодействий и использует ИИ OpenAI для генерации улучшенного промпта, который может привести к более качественным ответам.

## Проблемы и их решение

### Бот не запускается и выдает ошибку токена
Убедитесь, что вы правильно указали токен Telegram-бота в файле .env. Токен должен выглядеть примерно так: `123456789:ABCdefGhIJKlmNoPQRstUvwxYZ`

### Ошибка подключения к базе данных
Проверьте строку подключения в переменной DATABASE_URL в файле .env. Убедитесь, что:
- Указан правильный адрес сервера базы данных
- Указан правильный порт (по умолчанию 5432)
- Указано правильное имя пользователя и пароль
- База данных существует и доступна

### Бот не отвечает на сообщения
1. Проверьте, что бот запущен
2. Убедитесь, что токен OpenAI указан правильно
3. Проверьте логи приложения на наличие ошибок

## Развертывание

### Как развернуть бота на сервере?
Бот готов к развертыванию на платформах, поддерживающих Procfile (Heroku, Railway и др.). Убедитесь, что:
- Все переменные окружения установлены
- Доступна база данных PostgreSQL
- Установлены все зависимости из requirements.txt

### Можно ли запустить бота на бесплатном хостинге?
Да, бот можно развернуть на бесплатных тарифах Heroku, Railway или аналогичных платформах, но следует учитывать ограничения по времени работы и ресурсам.

## Разработка

### Как добавить новую функцию в бота?
1. Определите, в какой модуль следует добавить функциональность
2. Реализуйте логику в соответствующем файле в директории `app/`
3. Добавьте необходимые обработчики в `app/main.py`
4. При необходимости обновите схему базы данных в `schema.sql`
5. Обновите документацию

### Как протестировать изменения?
Рекомендуется создать тестовую среду с отдельной базой данных и токеном бота для проверки изменений перед их применением в production.

## Лицензирование

### Под какой лицензией распространяется проект?
Проект распространяется под лицензией MIT, что позволяет использовать, изменять и распространять код как в коммерческих, так и в некоммерческих целях с сохранением уведомления об авторском праве.